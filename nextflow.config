params {
    fastqs = '*_R{1,2}*.fastq'
    outdir = "./results"
}

process {
    time = { 48.h * task.attempt }
    cpus = 16
    memory = 120.GB
    cache = 'lenient'
    errorStrategy = { task.attempt < 3 ? 'retry' : 'finish' }
    withName: fastp {
        // decompression threads
        cpus = 3
        container = "brwnj/preon:v0.0.5"
    }
    withName: bwamem {
        container = "brwnj/bwa-nf:v0.0.0"

    }
    withName: markduplicates {
        container = 'broadinstitute/gatk:4.1.7.0'
    }
    withName: alignstats {
        cpus = 3
        container = "brwnj/preon:v0.0.5"
    }
}
